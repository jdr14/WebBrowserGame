<html>  <!-- Begin the html doc -->

<canvas id="gameGraphics", width="800", height="600"> </canvas>

<!-- Add CSS styling to auto fit the window to screen -->
<!--
<style>
    #gameGraphics {
        width: 100%;
        height: 100%;
    }
</style>
-->

<!-- Use this tag to wrap around javascript -->
<script>  
    
    // Create Global variables within the context of this script to be set as objects later...
    var canvas, canvasContext;

    var backgroundColor = 'black';

    // Placeholder variable to store the current ball's position
    var ballSpeedX = 5;
    var ballSpeedY = 5;
    var ballAttributes = {
        radius: 15,
    	positionX: 20,  // This is the initial position of the ball
    	positionY: 50, 
        velocityX: ballSpeedX,
        velocityY: ballSpeedY,
        color: 'red',
    };
    
    var paddleSpeedY = 0;
    var paddleAttributes = {
        width: 15,
        height: 75,  // Keep the aspect ratio
        positionX: 10,
        positionY: 300,
        velocityY: paddleSpeedY,
        color: 'white',
    };

    // Only execute after the entire window has loaded.
    window.onload = function() 
    {
    	console.log("Starting the game now.");  // Initial message to the console

    	canvas = document.getElementById('gameGraphics');
    	canvasContext = canvas.getContext('2d');
    	console.log("Canvas and canvasContext successfully created.")
        
    	var framesPerSecond = 60;
    	console.log("Starting ball movement now.")
        setInterval(
        	function() // Create an inline function to keep code clean and concise
        	{
                drawShapes();
                updatePositions();
        	}, 1000/framesPerSecond);  // 1000 ms / FPS
    }
    
    function updateBallPositionX()
    {
    	// Update the X position of the ball
    	ballAttributes.positionX = ballAttributes.positionX + ballAttributes.velocityX;

    	// Bounce the ball horizontally
        if (ballAttributes.positionX + ballAttributes.radius == canvas.width)
        {
            ballAttributes.velocityX = -ballSpeedX;
        }
        else if (ballAttributes.positionX == ballAttributes.radius)
        {
        	ballAttributes.velocityX = ballSpeedX;
        }
    }
    
    function updateBallPositionY()
    {
    	// Update the Y position of the ball
        ballAttributes.positionY = ballAttributes.positionY + ballAttributes.velocityY;
      
        // Bounce the ball vertically
        if (ballAttributes.positionY + ballAttributes.radius == canvas.height)
        {
        	ballAttributes.velocityY = -ballSpeedY;
        }
        else if (ballAttributes.positionY == ballAttributes.radius)
        {
        	ballAttributes.velocityY = ballSpeedY;
        }
    }

    function updatePositions() 
    {
        updateBallPositionX();
        updateBallPositionY();
    }

    function drawShapes() 
    {
    	// Create the background
    	colorRectangle(0, 0, canvas.width, canvas.height, backgroundColor);
        
        // Create a paddle
    	colorRectangle(
    		paddleAttributes.positionX,
    	    paddleAttributes.positionY,
    	    paddleAttributes.width,
    	    paddleAttributes.height,
    	    paddleAttributes.color,
    	);

    	colorCircle(
    		ballAttributes.positionX,
    		ballAttributes.positionY,
            ballAttributes.radius,
            ballAttributes.color,
    	);
    }

    function colorRectangle(leftX, topY, width, height, color) 
    {
        canvasContext.fillStyle = color;
        canvasContext.fillRect(leftX, topY, width, height);
    }

    function colorCircle(centerX, centerY, radius, color)
    {   
    	canvasContext.fillStyle = color;
    	canvasContext.beginPath();
    	canvasContext.arc(centerX, centerY, radius, 0, Math.PI * 2, true);
    	canvasContext.fill();
    }
	
</script>  <!-- End Javascript -->

</html>  <!-- End -->






